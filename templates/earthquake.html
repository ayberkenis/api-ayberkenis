<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Earthquake - AyberkEnis API</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://www.kryogenix.org/code/browser/sorttable/sorttable.js"></script>

</head>
<body>
<h1 class="display-6 text-center mt-2">Earthquakes</h1>
<center>
<input type="text" id="search" placeholder="Type to search" class="form-control form-control-sm text-center w-25">
  <div class="container container-sm d-flex justify-content-center mt-4">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{{ url_for('layout.index') }}">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">Earthquakes</li>
      </ol>
    </nav>
    </div>
    <small class="text-muted">Red colored columns shows that there has been an earthquake greater than Magnitude(ML) 4.0 </small>
  </center>
<hr>
<table class="table sortable" id="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Date</th>
      <th scope="col">Time</th>
      <th scope="col">Latitude</th>
      <th scope="col">Longitude</th>
      <th scope="col">Depth</th>
      <th scope="col">Magnitude(MD)</th>
      <th scope="col">Magnitude(ML)</th>
      <th scope="col">Magnitude(MW)</th>
      <th scope="col">Location</th>
      <th scope="col">State</th>
      <th scope="col">Google Maps</th>
    </tr>
  </thead>
  <tbody>
  {% for e in data %}
  {% if e["magnitude_ml"] > "4" %}
    <tr class="table table-danger">
      {% else %}
      <tr>
    {% endif %}
      <th scope="row">{{ loop.index }}</th>
      <td>{{ e["date"] }}</td>
      <td>{{ e["time"] }}</td>
      <td>{{ e["latitude"] }}</td>
      <td>{{ e["longitude"] }}</td>
      <td>{{ e["depth"] }}</td>
      <td>{{ e["magnitude_md"] }}</td>
      <td>{{ e["magnitude_ml"] }}</td>
      <td>{{ e["magnitude_mw"] }}</td>
      <td>{{ e["location"] }}</td>
      <td>{{ e["state"] }}</td>
      <td><a href="{{ e['google_maps'] }}">Click Here </a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<script>
    var $rows = $('#table tr');
$('#search').keyup(function() {
    var val = $.trim($(this).val()).replace(/ +/g, ' ').toLowerCase();

    $rows.show().filter(function() {
        var text = $(this).text().replace(/\s+/g, ' ').toLowerCase();
        return !~text.indexOf(val);
    }).hide();
});

</script>

</body>
<style>
  html {
    position: relative;
    min-height: 100%;
  }
  body {
    margin-bottom: 60px; /* Margin bottom by footer height */
  }
  .footer {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 60px;
  line-height: 60px;
  text-align: center;
}
</style>
    <footer class="footer">
      <div class="container">
        <span class="text-muted text-center"><a href="https://ayberkenis.online" target="_blank" class="btn btn-dark">AyberkEnis</a></span>
      </div>
    </footer>
</html>